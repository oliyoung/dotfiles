= Flybuys Integration - Architecture Definition
== Introduction & Vision
=== Purpose
=== Vision
=== Architectural Approach
=== Architecture Overview
==== Key Architectural Patterns
== Technical Requirements
=== Technical Requirements Mapping
=== Stakeholder Analysis
=== Baseline Architecture
==== Current Business Capability
==== Current Value Stream
===== Customer Redeems Flybuys Fuel Discount
==== Pain Points
=== Target State Architecture
==== Business Capability
==== Value Stream
===== Customer Links Flybuys Digital Identity and earns Flybuys Points
==== OAuth Partner Linking Flow
==== Transaction Adjudication Flow
===== Detailed Sequence Diagrams
==== Gap Analysis
===== Business Capability Gaps
===== Technology Transformation Requirements
== Technical Architecture
=== Technical Capability Requirements
==== Requirements Traceability
=== Service Catalogues
==== Application Portfolio Catalogue
==== Technology Capability Requirements
==== Feature Flag Register
===== Infrastructure Flags
===== Profile Service Flags
===== Loyalty Service Flags
==== Data Entity Catalogue
=== Baseline Architecture
==== Existing System Components
===== xref:bounded-contexts:interfaces/otr_pos.adoc[OTR POS]
====== Platform
===== xref:bounded-contexts:interfaces/otr_plus_pos.adoc[OTR+ POS]
====== Platform
====== Capabilities
====== Limitations
===== OTR App API
====== Platform
====== Capabilities
====== Limitations
===== xref:bounded-contexts:external/salesforce_crm.adoc[Salesforce CRM]
====== Platform
====== Capabilities
===== xref:bounded-contexts:external/eagle_eye.adoc[EagleEye]
====== Platform
====== Capabilities
===== xref:bounded-contexts:external/coupon_scanner.adoc[Coupon Scanner]
===== Platform
===== Capabilities
==== Integration Architecture
==== Technical Debt
=== Gap Analysis
==== Missing Capabilities
==== Missing Bounded Contexts
==== Missing Integration Patterns
=== Target State Architecture
==== Architectural Building Blocks (ABB)
===== xref:bounded-contexts:profile.adoc[ABB-001 Profile Service]
====== Responsibility
====== Aggregates
====== Invariants
====== Domain Events Published by Profile Service
====== Domain Events Consumed by Profile Service
====== Domain Services
====== Feature Flags
====== External Dependencies
===== xref:bounded-contexts:loyalty.adoc[ABB-002 Loyalty Service]
====== Responsibility
====== POS Integration Pattern: Bidirectional Anti-Corruption Layer
====== Loyalty Credential Resolution Specification
====== Resolution Logic
====== Constraints
====== Aggregates
====== Invariants
====== Domain Events
====== Domain Services
====== Feature Flags
====== Dependencies
===== xref:bounded-contexts:location.adoc[ABB-003 Location Service]
====== Responsibility
====== Core Aggregates
====== Dependencies
===== xref:bounded-contexts:engagement.adoc[ABB-004 Engagement Service]
===== ABB-005 Event Bus
===== xref:bounded-contexts:interfaces/oauth.adoc[ABB-006 OAuth Service]
===== ABB-007 API Gateway
===== ABB-008 Application Config
===== ABB-009 Application Monitoring
===== xref:bounded-contexts:interfaces/mobile.adoc[ABB-010 Mobile Application]
===== ABB-011 Caching
===== ABB-012 Braze ACL
===== ABB-013 Flybuys ACL